jQuery(function(e){e(".ywpc-dates input").datetimepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,onSelect:function(t){var a=e(this).is(".ywpc_sale_price_dates_from")?"minDate":"maxDate",i=e(this).data("datepicker"),c=e.datepicker.parseDate(i.settings.dateFormat||e.datepicker._defaults.dateFormat,t,i.settings),d=e(this).val();"minDate"===a?e(".ywpc_sale_price_dates_to").datetimepicker("option",a,c):e(".ywpc_sale_price_dates_from").datetimepicker("option",a,c),e("#_ywpc_variations_global_countdown").is(":checked")||(e(this).is("#_ywpc_sale_price_dates_from")?e(".ywpc_sale_price_dates_from").val(d):e(".ywpc_sale_price_dates_to").val(d),e(".woocommerce_variation").addClass("variation-needs-update"),e(".save-variation-changes").removeAttr("disabled"),e(".cancel-variation-changes").removeAttr("disabled"))}});var t=e("#_ywpc_sale_price_dates_from, #_ywpc_sale_price_dates_to");function a(){e(".woocommerce_variation").addClass("variation-needs-update"),e(".save-variation-changes").removeAttr("disabled"),e(".cancel-variation-changes").removeAttr("disabled")}t.datetimepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,onSelect:function(a){var i=e(this).is("#_ywpc_sale_price_dates_from")?"minDate":"maxDate",c=e(this).data("datepicker"),d=e.datepicker.parseDate(c.settings.dateFormat||e.datepicker._defaults.dateFormat,a,c.settings);t.not(this).datetimepicker("option",i,d)}}),e(document).ready(function(){e("#_ywpc_enabled").change(function(){e(this).is(":checked")?(e("#_ywpc_sale_price_dates_from").removeAttr("disabled"),e("#_ywpc_sale_price_dates_to").removeAttr("disabled"),e("#_ywpc_discount_qty").removeAttr("disabled"),e("#_ywpc_sold_qty").removeAttr("disabled"),e("#_ywpc_variations_global_countdown").removeAttr("disabled"),e(".ywpc-variation-field").each(function(){e(this).removeAttr("disabled")})):(e("#_ywpc_sale_price_dates_from").attr("disabled","disabled").val(""),e("#_ywpc_sale_price_dates_to").attr("disabled","disabled").val(""),e("#_ywpc_discount_qty").attr("disabled","disabled").val(""),e("#_ywpc_sold_qty").attr("disabled","disabled").val(""),e("#_ywpc_variations_global_countdown").attr("disabled","disabled").val(""),e(".ywpc-variation-field").each(function(){e(this).attr("disabled","disabled").val("")})),a()}).change(),e("#_ywpo_preorder").change(function(){e(this).is(":checked")?(e("#_ywpc_sale_price_dates_from").attr("disabled","disabled"),e("#_ywpc_sale_price_dates_to").attr("disabled","disabled")):e("#_ywpc_enabled").is(":checked")&&(e("#_ywpc_sale_price_dates_from").removeAttr("disabled"),e("#_ywpc_sale_price_dates_to").removeAttr("disabled"))}).change(),e("#_ywpc_variations_global_countdown").change(function(){e(this).is(":checked")?e(".ywpc-variation-field").each(function(){e(this).attr("disabled","disabled").val("")}):(e(".woocommerce_variation .ywpc_sale_price_dates_from").removeAttr("disabled").val(e("#_ywpc_sale_price_dates_from").val()),e(".woocommerce_variation .ywpc_sale_price_dates_to").removeAttr("disabled").val(e("#_ywpc_sale_price_dates_to").val()),e(".woocommerce_variation .ywpc_discount_qty").removeAttr("disabled").val(e("#_ywpc_discount_qty").val()),e(".woocommerce_variation .ywpc_sold_qty").removeAttr("disabled").val(e("#_ywpc_sold_qty").val())),a()}).change(),e("#_ywpc_discount_qty").change(function(){e("#_ywpc_variations_global_countdown").is(":checked")||(e(".ywpc_discount_qty").val(e(this).val()),a())}).change(),e("#_ywpc_sold_qty").change(function(){e("#_ywpc_variations_global_countdown").is(":checked")||(e(".ywpc_sold_qty").val(e(this).val()),a())}).change(),e(".ywpc-countdown-admin").each(function(){var t=e("input",this).val().split("."),a=e(this).clone(),i=" .ywpc-char-"+(ywpc.is_rtl?"2":"1"),c=" .ywpc-char-"+(ywpc.is_rtl?"1":"2"),d=" .ywpc-char-"+(ywpc.is_rtl?"2":"0"),s=" .ywpc-char-"+(ywpc.is_rtl?"0":"2");e(".ywpc-days"+d,a).text("{d100}"),e(".ywpc-days .ywpc-char-1",a).text("{d10}"),e(".ywpc-days"+s,a).text("{d1}"),e(".ywpc-hours"+i,a).text("{h10}"),e(".ywpc-hours"+c,a).text("{h1}"),e(".ywpc-minutes"+i,a).text("{m10}"),e(".ywpc-minutes"+c,a).text("{m1}"),e(".ywpc-seconds"+i,a).text("{s10}"),e(".ywpc-seconds"+c,a).text("{s1}"),e(this).countdown({until:e.countdown.UTCDate(ywpc.gmt,t[0],t[1],t[2],t[3],t[4]),layout:a.html()})})}),e("li.product_countdown_tab a").on("click",function(){e("#variable_product_options").trigger("reload")}),e("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){var t=e("#woocommerce-product-data");e(".ywpc-dates",t).each(function(){var t=e(this).find("input").datetimepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0,onSelect:function(a){var i=e(this).is(".ywpc_sale_price_dates_from")?"minDate":"maxDate",c=e(this).data("datepicker"),d=e.datepicker.parseDate(c.settings.dateFormat||e.datepicker._defaults.dateFormat,a,c.settings);t.not(this).datetimepicker("option",i,d),e(this).change(),e(".woocommerce_variation").addClass("variation-needs-update")}})}),e(".ywpc-variation-field").each(function(){e("#_ywpc_variations_global_countdown").is(":checked")||!e("#_ywpc_enabled").is(":checked")?e(this).attr("disabled","disabled"):e(this).removeAttr("disabled")}),e(".variable_is_preorder").change(function(){e(this).is(":checked")?(e(this).parent().parent().parent().find(".ywpc-variation-field").attr("disabled","disabled"),e("#_ywpc_enabled").prop("checked",!0)):e(this).parent().parent().parent().find(".ywpc-variation-field").removeAttr("disabled")})}),e("#ywpc_before_sale_start").change(function(){var t=e("#ywpc_before_sale_start_status").parent().parent().parent().parent();e(this).is(":checked")?t.show():t.hide()}).change()});